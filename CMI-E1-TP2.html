<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>TP 2 : Modèle de régression multiple – Ateliers L3 CMI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<link href="./CMI-E1-TP3.html" rel="next">
<link href="./CMI-E1-TP1.html" rel="prev">
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-485d01fc63b59abcd3ee1bf1e8e2748d.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-7a339148c3b2635d23d0fec43941109e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-485d01fc63b59abcd3ee1bf1e8e2748d.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./CMI-E1-intro.html">Econométrie 1</a></li><li class="breadcrumb-item"><a href="./CMI-E1-TP2.html">TP 2 : Modèle de régression multiple</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Ateliers L3 CMI</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Basculer le mode sombre"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Basculer en mode lecteur">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Général</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-projets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projets et présentations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-Projet1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consignes Projet 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-BDD.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bases de données</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Calcul Numérique</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-CN-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-CN-TP1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP1 : Commandes de base de R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-CN-TP2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP2 : Tableaux de données</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-CN-TP3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP3 : Premiers Graphiques</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">SIG</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-SIG-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-SIG-TP1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP1 : Introduction à QGIS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-SIG-TP2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP2 : Traitement sur les données vectorielles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-SIG-TP3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP3 : SIG avec R</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Econométrie 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-E1-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-E1-TP1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP1 : Probabilités et Statistiques avec R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-E1-TP2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">TP 2 : Modèle de régression multiple</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-E1-TP3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP3 : Analyse des Disparités Scolaires au Collège</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-E1-TP4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP4 : Etude économétrique de l’Enquête Nationale Transport 2019</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Econométrie 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Basculer la section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CMI-E2-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des matières</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#rappel-sur-r" id="toc-rappel-sur-r" class="nav-link" data-scroll-target="#rappel-sur-r">Rappel sur R</a></li>
  <li><a href="#retour-sur-la-régression-multiple" id="toc-retour-sur-la-régression-multiple" class="nav-link" data-scroll-target="#retour-sur-la-régression-multiple">Retour sur la régression multiple</a></li>
  <li><a href="#exercices" id="toc-exercices" class="nav-link" data-scroll-target="#exercices">Exercices</a>
  <ul class="collapse">
  <li><a href="#bwght" id="toc-bwght" class="nav-link" data-scroll-target="#bwght">bwght</a></li>
  <li><a href="#hprice1" id="toc-hprice1" class="nav-link" data-scroll-target="#hprice1">hprice1</a></li>
  <li><a href="#ceosal2" id="toc-ceosal2" class="nav-link" data-scroll-target="#ceosal2">ceosal2</a></li>
  <li><a href="#attend" id="toc-attend" class="nav-link" data-scroll-target="#attend">attend</a></li>
  <li><a href="#meap93" id="toc-meap93" class="nav-link" data-scroll-target="#meap93">meap93</a></li>
  <li><a href="#discrim" id="toc-discrim" class="nav-link" data-scroll-target="#discrim">discrim</a></li>
  <li><a href="#charity" id="toc-charity" class="nav-link" data-scroll-target="#charity">charity</a></li>
  <li><a href="#htv" id="toc-htv" class="nav-link" data-scroll-target="#htv">htv</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./CMI-E1-intro.html">Econométrie 1</a></li><li class="breadcrumb-item"><a href="./CMI-E1-TP2.html">TP 2 : Modèle de régression multiple</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">TP 2 : Modèle de régression multiple</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wooldridge)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Lancez et ouvrez un nouveau . Ce sera votre document de travail durant tout le TP. L’intérêt des Markdown est de pouvoir lancer une multitude de petits scripts successivement. Typiquement, un (petit script) par question. Lorsque c’est nécessaire, répondez aux questions entre les chunks.</p>
<p>Créez un fichier partagé “Econométrie-votre nom” sur votre drive fourni de l’université (OneDrive ou Google Drive). Envoyez-moi le lien de ce drive. Ce dossier partagé sera votre dossier de travail pendant toute la durée du cours. Créez un dossier “TP1” et enregistrez-y votre markdown sous le nom “TP1”.</p>
</section>
<section id="rappel-sur-r" class="level1">
<h1>Rappel sur R</h1>
<ol type="i">
<li><p>Chargez le package (téléchargez-le si besoin). Ouvrez le fichier de données <span class="math inline">\(CASchools\)</span> avec la commande : data(CASchools).</p></li>
<li><p>Définissez les variables <span class="math inline">\(STR = students/teachers\)</span> et <span class="math inline">\(score = (read + math)/2\)</span>.</p></li>
<li><p>Affichez les statistiques descriptives de ce jeu de données avec la commande .</p></li>
<li><p>Estimez le modèle suivant avec la commande et affichez les résultats de la régression :</p></li>
</ol>
<p><span class="math display">\[ score = \beta_0 + \beta_1 STR +\beta_2 english + u \]</span></p>
<ol start="22" type="a">
<li>Reprérentez les résultats précédents à l’aide du et utilisez la commande <code>stargazer( data , type = 'text')</code> en remplaçant <span class="math inline">\(data\)</span> par les jeux de données précédemment appelés.</li>
</ol>
<!-- -->
<ol start="6" type="i">
<li>Faites la même chose avec la fonction <code>feols()</code> du package <code>fixest</code> pour <code>lm</code> et <code>etable()</code> pour <code>stargazer</code>.</li>
</ol>
</section>
<section id="retour-sur-la-régression-multiple" class="level1">
<h1>Retour sur la régression multiple</h1>
<p>La première partie de ce TP vise à reproduire manuellement les fonctions de régression basiques de R. On considère le modèle linéaire suivant :</p>
<p><span class="math display">\[ Y = X'\beta + u\]</span></p>
<p>Le but de cet exercice est de reproduire les résultats de la fonction <span class="math inline">\(lm\)</span> de R tels qu’obtenus à la partie précédente.</p>
<ol type="i">
<li><p>Rappelez la formule générale de l’estimateur des moindres carrés ordinaires (MCO) <span class="math inline">\(\hat{\beta}\)</span> sous forme matricielle.</p></li>
<li><p>Proposez une fonction sur R qui prennent en argument un vecteur <span class="math inline">\(Y\)</span> et une matrice <span class="math inline">\(X\)</span> de variables dépendantes et renvoie l’estimateur <span class="math inline">\(\hat{\beta}\)</span> . Appliquez votre fonction de façon à reproduire les résultats de la regression précédentes.</p></li>
<li><p>Rappelez la formule de l’estimateur des moindres carrés ordinaires (MCO) <span class="math inline">\(\hat{\sigma}^2\)</span> de la variance des résidus et la matrice de variance-covariance associée aux coefficients.</p></li>
<li><p>Modifiez la fonction de la question (ii) pour y intégrer l’estimateur des MCO de la déviation standard des résidus, et l’erreur standard <span class="math inline">\(\hat{\sigma}_{\beta_i}\)</span> associé à chaque coefficient <span class="math inline">\(\beta_i\)</span>. Combinez <span class="math inline">\(\hat{\beta}\)</span> et les <span class="math inline">\(\hat{\sigma}_{\beta_i}\)</span> dans un dataframe avec comme nom de colonnes “coefficient” et “déviation standard”. Appliquez votre fonction de façon à reproduire les résultats de la régression précédentes.</p></li>
<li><p>Rappelez la formule du <span class="math inline">\(R^2\)</span>. Modifiez votre fonction pour que le dataframe intègre aussi le <span class="math inline">\(R^2\)</span>. Appliquez votre fonction de façon à reproduire les résultats de la régression précédentes.</p></li>
<li><p>Rappelez les formules des statistiques de Fisher <span class="math inline">\(F\)</span> et de student <span class="math inline">\(t_i\)</span> pour chaque coefficient.</p></li>
<li><p>Modifier la fonction pour y ajouter les tests sur le coefficient. Le résultat de votre fonction reverra un dataframe avec des dans des colonnes séparées :</p></li>
<li><p>Appliquez votre fonction de façon à reproduire les résultats de la régression précédentes.</p></li>
</ol>
</section>
<section id="exercices" class="level1">
<h1>Exercices</h1>
<p>Ces exercices utilisent les données issus du package <code>wooldridge.</code></p>
<section id="bwght" class="level2">
<h2 class="anchored" data-anchor-id="bwght">bwght</h2>
<p></p>
<p>Un problème qui intéresse les responsables de santé (et d’autres) est de déterminer les effets du tabagisme pendant la grossesse sur la santé des nourrissons. L’une des mesures de la santé du nourrisson est le poids de naissance ; un poids de naissance trop faible peut exposer le nourrisson au risque de contracter diverses maladies. Étant donné que des facteurs autres que le tabagisme qui influent sur le poids à la naissance sont susceptibles d’être corrélés au tabagisme, nous devons tenir compte de ces facteurs. Par exemple, un revenu plus élevé donne généralement accès à de meilleurs soins prénataux, ainsi qu’à une meilleure nutrition pour la mère. Une équation qui en tient compte est la suivante :</p>
<p><span class="math display">\[ bwght = \beta_0 + \beta_1 cigs +\beta_2 faminc + u \]</span></p>
<p>Avec <span class="math inline">\(bwght\)</span> le poids du bébé à la naissance, <span class="math inline">\(cigs\)</span> le nombre de cigarette fumées par jour par la mère, et <span class="math inline">\(faminc\)</span> le revenu de la famille.</p>
<ol type="i">
<li><p>Quel est le signe le plus probable pour <span class="math inline">\(\beta_2\)</span> ?</p></li>
<li><p>Pensez-vous que <span class="math inline">\(cigs\)</span> et <span class="math inline">\(faminc\)</span> sont susceptibles d’être corrélés ? Expliquez pourquoi cette corrélation corrélation pourrait être positive ou négative.</p></li>
<li><p>Maintenant, estimez l’équation avec et sans <span class="math inline">\(faminc\)</span></p></li>
</ol>
<p>Présentez les résultats sous forme d’équation, y compris la taille de l’échantillon et le <span class="math inline">\(R^2\)</span>. Discutez de vos résultats, en vous concentrant sur la question de savoir si l’ajout de la <span class="math inline">\(faminc\)</span> modifie sensiblement l’effet estimé de la cigarette sur le poids corporel.</p>
</section>
<section id="hprice1" class="level2">
<h2 class="anchored" data-anchor-id="hprice1">hprice1</h2>
<p>Utilisez les données pour estimer le modèle :</p>
<p><span class="math display">\[ price = \beta_0 + \beta_1 sqrft + \beta_2 bdrms + u\]</span></p>
<p>où <span class="math inline">\(price\)</span> est le prix de la maison mesuré en milliers de dollars, <span class="math inline">\(sqrft\)</span> est la surface du logement et <span class="math inline">\(bdrms\)</span> le nombre de chambres.</p>
<ol type="i">
<li><p>Rédigez les résultats sous forme d’équation.</p></li>
<li><p>Quelle est l’augmentation estimée du prix d’une maison comportant une chambre à coucher de plus, la superficie en pieds carrés étant constante ?</p></li>
<li><p>Quelle est l’augmentation estimée du prix d’une maison avec une chambre supplémentaire de 140 pieds carrés ? Comparez ce résultat à votre réponse dans la partie (ii).</p></li>
<li><p>Quel pourcentage de la variation du prix s’explique par la superficie en pieds carrés et le nombre de chambres à coucher ?</p></li>
<li><p>La première maison de l’échantillon a une superficie de $sqrft = $2438$ et un nombre de chambres à coucher <span class="math inline">\(bdrms = 4\)</span>$. Trouvez le prix de vente prédit pour cette maison à partir de la ligne de régression MCO.</p></li>
<li><p>Le prix de vente réel de la première maison de l’échantillon est de 300 000 $ (donc <span class="math inline">\(price\)</span> = 300). Trouvez le résidu pour cette maison. Cela suggère-t-il que l’acheteur a sous-payé ou sur-payé la maison ?</p></li>
</ol>
</section>
<section id="ceosal2" class="level2">
<h2 class="anchored" data-anchor-id="ceosal2">ceosal2</h2>
<p>Le fichier contient des données sur 177 PDG et peut être utilisé pour examiner les effets de la performance de l’entreprise sur le salaire du PDG.</p>
<ol type="i">
<li><p>Estimez un modèle reliant le salaire annuel <span class="math inline">\(salary\)</span> aux ventes de l’entreprise <span class="math inline">\(sales\)</span> et à la valeur marchande <span class="math inline">\(mktval\)</span>. Transformer le modèle de façon à obtenir des élasticités constantes pour les deux variables indépendantes. Écrivez les résultats sous forme d’équation.</p></li>
<li><p>Ajoutez <span class="math inline">\(profits\)</span> au modèle de la partie (i). Pourquoi cette variable ne peut-elle pas être incluse sous sous forme logarithmique ? Diriez-vous que ces variables de performance de l’entreprise expliquent la plus grande partie de la variation des salaires des PDG ?</p></li>
<li><p>Ajoutez la variable <span class="math inline">\(ceoten\)</span> au modèle de la partie (ii). Quel est le pourcentage de rendement estimé estimé pour une année supplémentaire de mandat du PDG, les autres facteurs étant fixes ?</p></li>
<li><p>Trouvez le coefficient de corrélation de l’échantillon entre les variables <span class="math inline">\(\log(mktval)\)</span> et <span class="math inline">\(profits\)</span>. Ces variables sont-elles fortement corrélées ? Qu’est-ce que cela signifie pour les estimateurs MCO ?</p></li>
</ol>
</section>
<section id="attend" class="level2">
<h2 class="anchored" data-anchor-id="attend">attend</h2>
<p>Cet exercice étudie les lien entre entre présence en classe et réussite scolaire. Utilisez les données de pour cet exercice.</p>
<ol type="i">
<li><p>Obtenez les valeurs minimum, maximum et moyenne pour les variables <span class="math inline">\(atndrte\)</span> (pourcentage de présence en classe), <span class="math inline">\(priGPA\)</span> (GPA cumulé), et <span class="math inline">\(ACT\)</span> (score ACT).</p></li>
<li><p>Estimez le modèle <span class="math display">\[atndrte = \beta_0 + \beta_1 priGPA + \beta_2 ACT + u\]</span> et écrivez les résultats sous forme d’équation. Interprétez l’ordonnée à l’origine. A-t-il une signification utile ?</p></li>
<li><p>Discutez les coefficients de pente estimés. Y a-t-il des surprises ?</p></li>
<li><p>Quel est <span class="math inline">\(atndrte\)</span> prédit si <span class="math inline">\(priGPA\)</span> = 3.65 et <span class="math inline">\(ACT\)</span> = 20 ? Que pensez-vous de ce résultat ? Existe-t-il des étudiants dans l’échantillon avec ces valeurs des variables explicatives ?</p></li>
<li><p>Si l’étudiant A a une <span class="math inline">\(priGPA\)</span> de 3,1 et un <span class="math inline">\(ACT\)</span> de 21, et que l’étudiant B a une <span class="math inline">\(priGPA\)</span> de 2,1 et un <span class="math inline">\(ACT\)</span> de 26, quelle est la valeur de <span class="math inline">\(atndrte\)</span> ? et <span class="math inline">\(ACT  = 26\)</span>, quelle est la différence prédite dans leurs taux de présence ?</p></li>
</ol>
</section>
<section id="meap93" class="level2">
<h2 class="anchored" data-anchor-id="meap93">meap93</h2>
<p>Utilisez les données de pour répondre à cette question.</p>
<ol type="i">
<li>Estimez le modèle <span class="math display">\[math_{10} = \beta_0 + \beta_1 \log(expend) + \beta_2 lnchprg + u\]</span></li>
</ol>
<p>et rapportez les résultats sous la forme habituelle, y compris la taille de l’échantillon et le R-carré. Les signes des coefficients de pente sont-ils ceux que vous attendiez ? Expliquez. (ii) Que faites-vous de l’ordonnée à l’origine que vous avez estimée dans la partie (i) ? En particulier, cela a-t-il un sens de mettre les deux variables explicatives à zéro ? (Indice : rappelez-vous que <span class="math inline">\(\log(1)=0\)</span>). (iii) Exécutez maintenant la régression simple de math10 sur <span class="math inline">\(\log(expend)\)</span>, et comparez le coefficient de pente avec l’estimation obtenue dans la partie (i). L’effet de dépense estimé est-il maintenant plus grand ou plus petit que dans la partie (i) ? (iv) Trouvez la corrélation entre <span class="math inline">\(lexpend = \log(expend)\)</span> et <span class="math inline">\(lnchprg\)</span>. Son signe vous semble-t-il logique ? (v) Utilisez la partie (iv) pour expliquer vos résultats dans la partie (iii).</p>
</section>
<section id="discrim" class="level2">
<h2 class="anchored" data-anchor-id="discrim">discrim</h2>
<p>Utilisez les données de pour répondre à cette question. Il s’agit de données au niveau du code postal sur les prix de divers articles dans les fast-foods, ainsi que des caractéristiques de la population du code postal, dans le New Jersey et en Pennsylvanie. L’idée est de voir si les restaurants fast-food pratiquent des prix plus élevés dans les zones où la concentration de Noirs est plus importante. (i) Trouvez les valeurs moyennes de <span class="math inline">\(prpblck\)</span> et de revenu dans l’échantillon, ainsi que leurs écarts types. Quelles sont les unités de mesure de <span class="math inline">\(prpblck\)</span> et du revenu ? (ii) Considérez un modèle pour expliquer le prix du soda, <span class="math inline">\(psoda\)</span>, en fonction de la proportion de la population qui est noire et du revenu médian :</p>
<p><span class="math display">\[ psoda = \beta_0 + \beta_1 prpblck + \beta_2 revenu + u\]</span></p>
<p>Estimez ce modèle par MCO et rapportez les résultats sous forme d’équation, y compris la taille de l’échantillon et le R-carré. (N’utilisez pas la notation scientifique pour présenter les estimations.) Interprétez le coefficient de <span class="math inline">\(prpblck\)</span>. Pensez-vous qu’il soit économiquement important ?</p>
<ol start="3" type="i">
<li><p>Comparez l’estimation de la partie (ii) avec l’estimation de régression simple de <span class="math inline">\(psoda\)</span> sur <span class="math inline">\(prpblck\)</span>. L’effet de discrimination est-il plus important ou plus faible lorsque vous contrôlez le revenu ?</p></li>
<li><p>Un modèle avec une élasticité-prix constante par rapport au revenu pourrait être plus approprié. Présentez les estimations du modèle :</p></li>
</ol>
<p><span class="math display">\[log(psoda) = \beta_0 + \beta_1 prpblck + \beta_2log(income) + u \]</span></p>
<p>Si <span class="math inline">\(prpblck\)</span> augmente de 0,20 (20 points de pourcentage), quelle est la variation estimée en pourcentage de <span class="math inline">\(psoda\)</span> ? (Indice : la réponse est 2.xx, où vous remplissez le “xx”). (v) Ajoutez maintenant la variable <span class="math inline">\(prppov\)</span> à la régression de la partie (iv). Que se passe-t-il ? attendu ?</p>
<ol start="7" type="i">
<li>Évaluez l’énoncé suivant : “Parce que le <span class="math inline">\(log(income)\)</span> et la variable <span class="math inline">\(prppov\)</span> sont si fortement corrélés, ils n’ont rien à faire dans la même régression.”</li>
</ol>
</section>
<section id="charity" class="level2">
<h2 class="anchored" data-anchor-id="charity">charity</h2>
<p>Utilisez les données de pour répondre aux questions suivantes :</p>
<ol type="i">
<li><p>Estimez l’équation : <span class="math display">\[ gift = \beta_0 + \beta_1 mailsyear + \beta_2 giftlast + \beta_3 propresp + u \]</span> par MCO et rapportez les résultats de la manière habituelle, y compris la taille de l’échantillon et le R-carré. Comment le <span class="math inline">\(R^2\)</span> se compare-t-il à celui de la régression simple qui omet <span class="math inline">\(giftlast\)</span> et <span class="math inline">\(propresp\)</span> ?</p></li>
<li><p>Interprétez le coefficient de l’année postale. Est-il plus grand ou plus petit que le coefficient de régression simple correspondant ?</p></li>
<li><p>Interprétez le coefficient de <span class="math inline">\(propresp\)</span>, en prenant soin de noter les unités de mesure de <span class="math inline">\(propresp\)</span>.</p></li>
<li><p>Ajoutez maintenant la variable <span class="math inline">\(avggift\)</span> à l’équation. Que devient l’effet estimé de <span class="math inline">\(mailsyear\)</span> ?</p></li>
<li><p>Dans l’équation de la partie (iv), qu’est-il arrivé au coefficient de <span class="math inline">\(giftlast\)</span> ? A votre avis, que se passe-t-il ?</p></li>
</ol>
</section>
<section id="htv" class="level2">
<h2 class="anchored" data-anchor-id="htv">htv</h2>
<p>Utilisez les données de pour répondre à cette question. L’ensemble de données comprend des informations sur les salaires, l’éducation, l’éducation des parents et plusieurs autres variables pour 1 230 hommes actifs en 1991.</p>
<ol type="i">
<li><p>Quelle est la fourchette de la variable éducation dans l’échantillon ? Quel pourcentage d’hommes ont terminé leur 12ème année mais pas une année supérieure ? Les hommes ou leurs parents ont-ils, en les hommes ou leurs parents ont-ils, en moyenne, un niveau d’éducation plus élevé ?</p></li>
<li><p>Estimez le modèle de régression</p></li>
</ol>
<p><span class="math display">\[ educ = \beta_0 + \beta_1 motheduc + \beta_2 fatheduc + u \]</span> par MCO et présentez les résultats sous la forme habituelle. Quelle est la part de la variation de l’échantillon dans <span class="math inline">\(educ\)</span> est expliquée par l’éducation des parents ? Interprétez le coefficient de <span class="math inline">\(motheduc\)</span>.</p>
<ol start="3" type="i">
<li><p>Ajoutez la variable <span class="math inline">\(abil\)</span> (une mesure de l’aptitude cognitive) à la régression de la partie (ii), et rapportez les résultats.</p></li>
<li><p>Ajoutez la variable <span class="math inline">\(abil\)</span> (une mesure de l’aptitude cognitive) à la régression de la partie (ii), et présentez les résultats sous forme d’équation. La “capacité” permet-elle d’expliquer expliquer les variations de l’éducation, même après avoir contrôlé l’éducation des parents ? Expliquez.</p></li>
<li><p>(Nécessite un calcul) Estimez maintenant une équation où l’aptitude apparaît sous forme quadratique :</p></li>
</ol>
<p><span class="math display">\[  educ = \beta_0 + \beta_1 motheduc + \beta_2 fatheduc + \beta_3 abil + \beta_4 abil^2 + u \]</span></p>
<p>En utilisant les estimations <span class="math inline">\(\hat{\beta}_3\)</span> et <span class="math inline">\(\hat{b}_4\)</span>, utiliser le calcul pour trouver la valeur de <span class="math inline">\(abil\)</span>, l’appeler <span class="math inline">\(abil^\star\)</span> , où <span class="math inline">\(educ\)</span> est minimisé. (Les autres coefficients et valeurs des variables d’éducation des parents n’ont pas d’effet ; nous maintenons l’éducation des parents fixe). Remarquez que <span class="math inline">\(abil\)</span> est mesuré de manière à ce que des valeurs négatives soient autorisées. Vous pouvez également vérifier que la dérivée seconde est positive et que vous avez bien un minimum.</p>
<ol start="22" type="a">
<li>Argumentez que seule une petite fraction des hommes de l’échantillon a une “capacité” inférieure à la valeur calculée dans la partie (iv). En quoi cela est-il important ?</li>
</ol>
<!-- -->
<ol start="6" type="i">
<li>Si vous avez accès à un programme statistique qui comprend des capacités graphiques, utilisez les estimations de la partie (iv) pour représenter graphiquement la relation entre l’éducation et l’aptitude prédites. Supposons que la <span class="math inline">\(motheduc\)</span> et la <span class="math inline">\(fatheduc\)</span> ont leurs valeurs moyennes dans l’échantillon, 12.18 et 12.45, respectivement.</li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copié");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copié");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./CMI-E1-TP1.html" class="pagination-link" aria-label="TP1 : Probabilités et Statistiques avec R">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">TP1 : Probabilités et Statistiques avec R</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./CMI-E1-TP3.html" class="pagination-link" aria-label="TP3 : Analyse des Disparités Scolaires au Collège">
        <span class="nav-page-text">TP3 : Analyse des Disparités Scolaires au Collège</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>